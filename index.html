<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1SM Bootcamp Sample Schedule</title>
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css?v=8.0" />
    <script>
      // Only run iframe code if actually inside an iframe
      if (window.self !== window.top) {
        // This code ONLY runs when embedded
        function sendHeight() {
          const height = document.body.scrollHeight;
          window.parent.postMessage({ type: 'resize', height: height }, '*');
        }
        
        window.addEventListener('load', sendHeight);
        window.addEventListener('resize', sendHeight);
        setInterval(sendHeight, 500);
      }
      // If not in iframe, this code is simply skipped - page works normally
    </script>
  </head>
  <body>
    <header class="site-header">
      <div class="site-header__content">
        <div class="header-top">
          <div class="header-top__text">
            <p class="eyebrow">1SM Winter Break MCAT Bootcamp</p>
            <div class="week-nav-header">
              <button 
                class="week-nav-btn week-nav-btn--prev" 
                id="weekNavPrev"
                aria-label="Previous week"
              >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                  <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
              </button>
              <h1>
                <span class="week-label">Week #1</span>
                <span aria-hidden="true" class="hide-on-mobile">·</span>
                <span class="header-date-range hide-on-mobile">December 13 – 19, 2025</span>
              </h1>
              <button 
                class="week-nav-btn week-nav-btn--next" 
                id="weekNavNext"
                aria-label="Next week"
              >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </button>
            </div>
          </div>
        </div>
        <div class="event-filters" aria-label="Event filters">
          <label class="filter-pill filter-pill--live">
            <input
              type="checkbox"
              data-filter="live"
              checked
            />
            <span class="filter-pill__checkbox" aria-hidden="true"></span>
            <span class="filter-pill__label">
              <span class="filter-pill__title">Live sessions</span>
            </span>
          </label>
          <label class="filter-pill filter-pill--homework">
            <input
              type="checkbox"
              data-filter="homework"
              checked
            />
            <span class="filter-pill__checkbox" aria-hidden="true"></span>
            <span class="filter-pill__label">
              <span class="filter-pill__title">Assignments</span>
            </span>
          </label>
        </div>
      </div>
    </header>

    <!-- NEW: Mobile Day Switcher (hidden on desktop ≥1100px) -->
    <div class="day-switcher" id="daySwitcher">
      <!-- Sticky Navigation Bar -->
      <nav class="day-nav" aria-label="Calendar day navigation">
        <button 
          class="day-nav__btn day-nav__btn--prev" 
          id="dayNavPrev" 
          aria-label="Previous day"
          aria-disabled="false"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>
        
        <div 
          class="day-nav__current" 
          id="dayNavCurrent" 
          aria-live="polite"
          aria-atomic="true"
        >
          Saturday, Dec 13
        </div>
        
        <button 
          class="day-nav__btn day-nav__btn--next" 
          id="dayNavNext" 
          aria-label="Next day"
          aria-disabled="false"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </nav>
      
      <!-- View Toggle Pills -->
      <div class="view-toggle" role="radiogroup" aria-label="Calendar view density">
        <button 
          class="view-toggle__pill view-toggle__pill--active" 
          data-view="1" 
          role="radio" 
          aria-checked="true"
          id="viewToggle1"
        >
          1 Day
        </button>
        <button 
          class="view-toggle__pill" 
          data-view="3" 
          role="radio" 
          aria-checked="false"
          id="viewToggle3"
        >
          3 Days
        </button>
        <button 
          class="view-toggle__pill" 
          data-view="7" 
          role="radio" 
          aria-checked="false"
          id="viewToggle7"
        >
          7 Days
        </button>
      </div>
    </div>

    <main class="layout">
      <section class="calendar" aria-label="Weekly calendar">
        <div class="calendar-header" role="row">
          <div class="calendar-header__spacer" aria-hidden="true"></div>
          <div class="day-label" role="columnheader">
            <span class="day-label__full">Saturday</span>
            <span class="day-label__abbr">Sat</span>
            <span>Dec 13</span>
          </div>
          <div class="day-label" role="columnheader">
            <span class="day-label__full">Sunday</span>
            <span class="day-label__abbr">Sun</span>
            <span>Dec 14</span>
          </div>
          <div class="day-label" role="columnheader">
            <span class="day-label__full">Monday</span>
            <span class="day-label__abbr">Mon</span>
            <span>Dec 15</span>
          </div>
          <div class="day-label" role="columnheader">
            <span class="day-label__full">Tuesday</span>
            <span class="day-label__abbr">Tues</span>
            <span>Dec 16</span>
          </div>
          <div class="day-label" role="columnheader">
            <span class="day-label__full">Wednesday</span>
            <span class="day-label__abbr">Wed</span>
            <span>Dec 17</span>
          </div>
          <div class="day-label" role="columnheader">
            <span class="day-label__full">Thursday</span>
            <span class="day-label__abbr">Thurs</span>
            <span>Dec 18</span>
          </div>
          <div class="day-label" role="columnheader">
            <span class="day-label__full">Friday</span>
            <span class="day-label__abbr">Fri</span>
            <span>Dec 19</span>
          </div>
        </div>

        <div class="calendar-body">
          <div class="time-axis" id="timeAxis" aria-hidden="true"></div>
          <div class="day-column" data-day-index="0"></div>
          <div class="day-column" data-day-index="1"></div>
          <div class="day-column" data-day-index="2"></div>
          <div class="day-column" data-day-index="3"></div>
          <div class="day-column" data-day-index="4"></div>
          <div class="day-column" data-day-index="5"></div>
          <div class="day-column" data-day-index="6"></div>
        </div>
      </section>

      <aside class="event-details" id="eventDetails" aria-live="polite">
        <div class="details-card" tabindex="-1">
          <div class="details-header">
            <p class="details-label">Selected session</p>
            <h2 class="details-title" id="detailsTitle">Choose any event</h2>
            <p class="details-time is-hidden" id="detailsTime"></p>
            <a 
              class="join-btn is-hidden" 
              id="joinBtn"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Click to join Zoom meeting"
            >
              Click to Join
            </a>
          </div>
          <p class="details-description" id="detailsDescription">
            Filters can hide or show live facilitation and homework sessions. Tap
            again to collapse the details.
          </p>
          <a 
            class="details-cta" 
            id="learnMoreBtn"
            href="https://1sourcemedicine.com/mcat-bootcamp"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Learn more about the MCAT bootcamp"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M7 17L17 7M17 7H7M17 7v10"/>
            </svg>
            <span class="details-cta__text">Learn more</span>
          </a>
        </div>
      </aside>

      <button 
        class="floating-details-btn" 
        id="floatingDetailsBtn"
        aria-label="View selected session details"
        aria-hidden="true"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 5v14M5 12l7 7 7-7"/>
        </svg>
        <span>View Details</span>
      </button>
    </main>

    <!-- Video Replay Modal -->
    <div class="video-modal" id="videoModal" aria-hidden="true" role="dialog" aria-labelledby="videoModalTitle">
      <div class="video-modal__backdrop" id="videoModalBackdrop"></div>
      <div class="video-modal__content">
        <div class="video-modal__header">
          <h3 class="video-modal__title" id="videoModalTitle">Session Recording</h3>
          <button class="video-modal__close" id="videoModalClose" aria-label="Close video modal">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <div class="video-modal__body" id="videoModalBody">
          <!-- Video embed will be injected here -->
        </div>
      </div>
    </div>

    <footer class="site-footer">
      <p>&copy; 2025 1SM Bootcamp · Sample schedule for demo purposes</p>
    </footer>

    <script src="script.js?v=8.2"></script>
  </body>
</html>
